{"ast":null,"code":"var _jsxFileName = \"/Users/tetanaglincak/Desktop/TaskPro project/Final-project-frontend/src/components/mainModal/MainModal.jsx\",\n  _s = $RefreshSig$();\n// mainModal/MainModal.js\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useEffect } from 'react';\nimport { selectModalActiveModal } from '../../redux/modal/selectors';\nimport { closeModal } from '../../redux/modal/modalSlice';\nimport { ModalBackdrop, ModalContent } from './MainModal.styled';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass ModalPortal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.el = document.createElement('div');\n  }\n  componentDidMount() {\n    const modalRoot = document.getElementById('modal-root');\n    modalRoot.appendChild(this.el);\n  }\n  componentWillUnmount() {\n    const modalRoot = document.getElementById('modal-root');\n    modalRoot.removeChild(this.el);\n  }\n  render() {\n    return ReactDOM.createPortal(this.props.children, this.el);\n  }\n}\nexport const Modal = _ref => {\n  _s();\n  let {\n    modalId,\n    children\n  } = _ref;\n  const dispatch = useDispatch();\n  const activeModal = useSelector(selectModalActiveModal);\n  const closeModalOnBackdrop = e => {\n    if (e.target === e.currentTarget) {\n      dispatch(closeModal());\n    }\n  };\n  useEffect(() => {\n    const closeModalonEsc = e => {\n      if (e.key === 'Escape') {\n        dispatch(closeModal());\n      }\n    };\n    if (activeModal === modalId) {\n      window.addEventListener('keydown', closeModalonEsc);\n    }\n    return () => {\n      window.removeEventListener('keydown', closeModalonEsc);\n    };\n  }, [dispatch, activeModal, modalId]);\n  return activeModal === modalId && /*#__PURE__*/_jsxDEV(ModalPortal, {\n    children: /*#__PURE__*/_jsxDEV(ModalBackdrop, {\n      onClick: closeModalOnBackdrop,\n      children: /*#__PURE__*/_jsxDEV(ModalContent, {\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 7\n  }, this);\n};\n_s(Modal, \"vjFUvp6XYdKjUp2rIQm7jETdvvs=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c = Modal;\nvar _c;\n$RefreshReg$(_c, \"Modal\");","map":{"version":3,"names":["useDispatch","useSelector","useEffect","selectModalActiveModal","closeModal","ModalBackdrop","ModalContent","jsxDEV","_jsxDEV","ModalPortal","React","Component","constructor","props","el","document","createElement","componentDidMount","modalRoot","getElementById","appendChild","componentWillUnmount","removeChild","render","ReactDOM","createPortal","children","Modal","_ref","_s","modalId","dispatch","activeModal","closeModalOnBackdrop","e","target","currentTarget","closeModalonEsc","key","window","addEventListener","removeEventListener","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/tetanaglincak/Desktop/TaskPro project/Final-project-frontend/src/components/mainModal/MainModal.jsx"],"sourcesContent":["// mainModal/MainModal.js\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useEffect } from 'react';\nimport { selectModalActiveModal } from '../../redux/modal/selectors';\nimport { closeModal } from '../../redux/modal/modalSlice';\nimport { ModalBackdrop, ModalContent } from './MainModal.styled';\nclass ModalPortal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.el = document.createElement('div');\n  }\n\n  componentDidMount() {\n    const modalRoot = document.getElementById('modal-root');\n    modalRoot.appendChild(this.el);\n  }\n\n  componentWillUnmount() {\n    const modalRoot = document.getElementById('modal-root');\n    modalRoot.removeChild(this.el);\n  }\n\n  render() {\n    return ReactDOM.createPortal(this.props.children, this.el);\n  }\n}\n\nexport const Modal = ({ modalId, children }) => {\n  const dispatch = useDispatch();\n  const activeModal = useSelector(selectModalActiveModal);\n\n  const closeModalOnBackdrop = e => {\n    if (e.target === e.currentTarget) {\n      dispatch(closeModal());\n    }\n  };\n\n  useEffect(() => {\n    const closeModalonEsc = e => {\n      if (e.key === 'Escape') {\n        dispatch(closeModal());\n      }\n    };\n\n    if (activeModal === modalId) {\n      window.addEventListener('keydown', closeModalonEsc);\n    }\n\n    return () => {\n      window.removeEventListener('keydown', closeModalonEsc);\n    };\n  }, [dispatch, activeModal, modalId]);\n\n  return (\n    activeModal === modalId && (\n      <ModalPortal>\n        <ModalBackdrop onClick={closeModalOnBackdrop}>\n          <ModalContent>{children}</ModalContent>\n        </ModalBackdrop>\n      </ModalPortal>\n    )\n  );\n};\n"],"mappings":";;AAAA;;AAEA,SAASA,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,SAAS,QAAQ,OAAO;AACjC,SAASC,sBAAsB,QAAQ,6BAA6B;AACpE,SAASC,UAAU,QAAQ,8BAA8B;AACzD,SAASC,aAAa,EAAEC,YAAY,QAAQ,oBAAoB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AACjE,MAAMC,WAAW,SAASC,KAAK,CAACC,SAAS,CAAC;EACxCC,WAAWA,CAACC,KAAK,EAAE;IACjB,KAAK,CAACA,KAAK,CAAC;IACZ,IAAI,CAACC,EAAE,GAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;EACzC;EAEAC,iBAAiBA,CAAA,EAAG;IAClB,MAAMC,SAAS,GAAGH,QAAQ,CAACI,cAAc,CAAC,YAAY,CAAC;IACvDD,SAAS,CAACE,WAAW,CAAC,IAAI,CAACN,EAAE,CAAC;EAChC;EAEAO,oBAAoBA,CAAA,EAAG;IACrB,MAAMH,SAAS,GAAGH,QAAQ,CAACI,cAAc,CAAC,YAAY,CAAC;IACvDD,SAAS,CAACI,WAAW,CAAC,IAAI,CAACR,EAAE,CAAC;EAChC;EAEAS,MAAMA,CAAA,EAAG;IACP,OAAOC,QAAQ,CAACC,YAAY,CAAC,IAAI,CAACZ,KAAK,CAACa,QAAQ,EAAE,IAAI,CAACZ,EAAE,CAAC;EAC5D;AACF;AAEA,OAAO,MAAMa,KAAK,GAAGC,IAAA,IAA2B;EAAAC,EAAA;EAAA,IAA1B;IAAEC,OAAO;IAAEJ;EAAS,CAAC,GAAAE,IAAA;EACzC,MAAMG,QAAQ,GAAG/B,WAAW,CAAC,CAAC;EAC9B,MAAMgC,WAAW,GAAG/B,WAAW,CAACE,sBAAsB,CAAC;EAEvD,MAAM8B,oBAAoB,GAAGC,CAAC,IAAI;IAChC,IAAIA,CAAC,CAACC,MAAM,KAAKD,CAAC,CAACE,aAAa,EAAE;MAChCL,QAAQ,CAAC3B,UAAU,CAAC,CAAC,CAAC;IACxB;EACF,CAAC;EAEDF,SAAS,CAAC,MAAM;IACd,MAAMmC,eAAe,GAAGH,CAAC,IAAI;MAC3B,IAAIA,CAAC,CAACI,GAAG,KAAK,QAAQ,EAAE;QACtBP,QAAQ,CAAC3B,UAAU,CAAC,CAAC,CAAC;MACxB;IACF,CAAC;IAED,IAAI4B,WAAW,KAAKF,OAAO,EAAE;MAC3BS,MAAM,CAACC,gBAAgB,CAAC,SAAS,EAAEH,eAAe,CAAC;IACrD;IAEA,OAAO,MAAM;MACXE,MAAM,CAACE,mBAAmB,CAAC,SAAS,EAAEJ,eAAe,CAAC;IACxD,CAAC;EACH,CAAC,EAAE,CAACN,QAAQ,EAAEC,WAAW,EAAEF,OAAO,CAAC,CAAC;EAEpC,OACEE,WAAW,KAAKF,OAAO,iBACrBtB,OAAA,CAACC,WAAW;IAAAiB,QAAA,eACVlB,OAAA,CAACH,aAAa;MAACqC,OAAO,EAAET,oBAAqB;MAAAP,QAAA,eAC3ClB,OAAA,CAACF,YAAY;QAAAoB,QAAA,EAAEA;MAAQ;QAAAiB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAe;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1B;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CACd;AAEL,CAAC;AAACjB,EAAA,CAnCWF,KAAK;EAAA,QACC3B,WAAW,EACRC,WAAW;AAAA;AAAA8C,EAAA,GAFpBpB,KAAK;AAAA,IAAAoB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module"}