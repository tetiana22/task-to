{"ast":null,"code":"import { createSlice, isAnyOf } from '@reduxjs/toolkit';\nimport { registration, signin, currentUser, logoutUser, updateUser, changeTheme, needHelp, refreshUser } from './authReducer';\nconst initialState = {\n  token: null,\n  userData: {},\n  theme: null,\n  avatarURL: '',\n  isLoggedIn: false,\n  error: null,\n  isLoading: false\n};\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  extraReducers: builder => builder.addCase(registration.fulfilled, (state, action) => {\n    state.isLoading = false;\n    state.isLoggedIn = true;\n    state.userData = action.payload;\n    state.token = action.payload.token;\n  }).addCase(updateUser.fulfilled, (state, action) => {\n    const {\n      name,\n      email,\n      password,\n      avatarURL\n    } = action.payload;\n    state.userData.name = name;\n    state.userData.email = email;\n    state.userData.password = password;\n    state.userData.avatarURL = avatarURL;\n    state.isLoading = false;\n  }).addCase(needHelp.fulfilled, (state, action) => {\n    state.isLoading = false;\n    state.isLoggedIn = true;\n  }).addCase(changeTheme.fulfilled, (state, action) => {\n    state.isLoading = false;\n    state.isLoggedIn = true;\n    state.theme = action.payload;\n  }).addCase(signin.fulfilled, (state, action) => {\n    state.isLoading = false;\n    state.isLoggedIn = true;\n    state.userData = action.payload;\n    state.token = action.payload.token;\n  }).addCase(currentUser.fulfilled, (state, action) => {\n    state.isLoading = false;\n    state.isLoggedIn = true;\n    state.userData = action.payload;\n  }).addCase(logoutUser.fulfilled, () => {\n    return initialState;\n  }).addCase(refreshUser.fulfilled, (state, action) => {\n    state.userData = action.payload;\n    state.isLoggedIn = true;\n  }).addMatcher(isAnyOf(registration.pending, signin.pending, currentUser.pending, logoutUser.pending, needHelp.pending, refreshUser.pending), state => {\n    state.isLoading = true;\n    state.error = null;\n  }).addMatcher(isAnyOf(registration.rejected, signin.rejected, currentUser.rejected, logoutUser.rejected, needHelp.rejected, refreshUser.rejected), (state, action) => {\n    state.isLoading = false;\n    state.error = action.payload;\n  })\n});\nexport const authReducer = authSlice.reducer;","map":{"version":3,"names":["createSlice","isAnyOf","registration","signin","currentUser","logoutUser","updateUser","changeTheme","needHelp","refreshUser","initialState","token","userData","theme","avatarURL","isLoggedIn","error","isLoading","authSlice","name","extraReducers","builder","addCase","fulfilled","state","action","payload","email","password","addMatcher","pending","rejected","authReducer","reducer"],"sources":["/Users/tetanaglincak/Desktop/TaskPro project/Final-project-frontend/src/redux/authorization/authSlice.jsx"],"sourcesContent":["import { createSlice, isAnyOf } from '@reduxjs/toolkit';\nimport {\n  registration,\n  signin,\n  currentUser,\n  logoutUser,\n  updateUser,\n  changeTheme,\n  needHelp,\n  refreshUser,\n} from './authReducer';\n\nconst initialState = {\n  token: null,\n  userData: {},\n\n  theme: null,\n  avatarURL: '',\n\n  isLoggedIn: false,\n  error: null,\n  isLoading: false,\n};\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  extraReducers: builder =>\n    builder\n      .addCase(registration.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.isLoggedIn = true;\n        state.userData = action.payload;\n        state.token = action.payload.token;\n      })\n      .addCase(updateUser.fulfilled, (state, action) => {\n        const { name, email, password, avatarURL } = action.payload;\n        state.userData.name = name;\n        state.userData.email = email;\n        state.userData.password = password;\n        state.userData.avatarURL = avatarURL;\n        state.isLoading = false;\n      })\n      .addCase(needHelp.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.isLoggedIn = true;\n      })\n      .addCase(changeTheme.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.isLoggedIn = true;\n        state.theme = action.payload;\n      })\n\n      .addCase(signin.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.isLoggedIn = true;\n        state.userData = action.payload;\n        state.token = action.payload.token;\n      })\n      .addCase(currentUser.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.isLoggedIn = true;\n        state.userData = action.payload;\n      })\n      .addCase(logoutUser.fulfilled, () => {\n        return initialState;\n      })\n      .addCase(refreshUser.fulfilled, (state, action) => {\n        state.userData = action.payload;\n        state.isLoggedIn = true;\n      })\n\n      .addMatcher(\n        isAnyOf(\n          registration.pending,\n          signin.pending,\n          currentUser.pending,\n          logoutUser.pending,\n          needHelp.pending,\n          refreshUser.pending\n        ),\n        state => {\n          state.isLoading = true;\n          state.error = null;\n        }\n      )\n      .addMatcher(\n        isAnyOf(\n          registration.rejected,\n          signin.rejected,\n          currentUser.rejected,\n          logoutUser.rejected,\n          needHelp.rejected,\n          refreshUser.rejected\n        ),\n        (state, action) => {\n          state.isLoading = false;\n          state.error = action.payload;\n        }\n      ),\n});\n\nexport const authReducer = authSlice.reducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}